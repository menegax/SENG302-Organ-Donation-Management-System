UPDATE_PATIENT_QUERY = INSERT INTO tblPatients \
  (Nhi, FName, MName, LName, Birth, Created, Modified, Death, BirthGender, \
  PrefGender, PrefName, Height, Weight, BloodType, DonatingOrgans, ReceivingOrgans) \
  VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) \
  ON DUPLICATE KEY UPDATE \
  FName = VALUES (FName), \
  MName = VALUES (MName), \
  LName = VALUES (LName), \
  Birth = VALUES (Birth), \
  Created = VALUES (Created), \
  Modified = VALUES (Modified), \
  Death = VALUES (Death), \
  BirthGender = VALUES (BirthGender), \
  PrefGender = VALUES (PrefGender), \
  PrefName = VALUES (PrefName), \
  Height = VALUES (Height), \
  Weight = VALUES (Weight), \
  BloodType = VALUES (BloodType), \
  DonatingOrgans = VALUES (DonatingOrgans), \
  ReceivingOrgans = VALUES (ReceivingOrgans)


UPDATE_CLINICIAN_QUERY = INSERT INTO tblClinicians \
  (StaffID, FName, MName, LName, Street1, Street2, Suburb, Region, Modified) \
  VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) \
  ON DUPLICATE KEY UPDATE \
  FName = VALUES (FName), \
  MName = VALUES (MName), \
  LName = VALUES (LName), \
  Street1 = VALUES (Street1), \
  Street2 = VALUES (Street2), \
  Suburb = VALUES (Suburb), \
  Region = VALUES (Region), \
  Modified = VALUES (Modified);


UPDATE_PATIENT_CONTACT_QUERY = INSERT INTO tblPatientContact \
  (Patient, Street1, Street2, Suburb, Region, Zip, HomePhone, WorkPhone, \
  MobilePhone, Email, ECName, ECRelationship, ECHomePhone, ECWorkPhone, \
  ECMobilePhone, ECEmail) \
  VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) \
  ON DUPLICATE KEY UPDATE \
  Street1 = VALUES (Street1), \
  Street2 = VALUES (Street2), \
  Suburb = VALUES (Suburb), \
  Region = VALUES (Region), \
  Zip = VALUES (Zip), \
  HomePhone = VALUES (HomePhone), \
  WorkPhone = VALUES (WorkPhone), \
  MobilePhone = VALUES (MobilePhone), \
  Email = VALUES (Email), \
  ECName = VALUES (ECName), \
  ECRelationship = VALUES (ECRelationship), \
  ECHomePhone = VALUES (ECHomePhone), \
  ECWorkPhone = VALUES (ECWorkPhone),\
  ECMobilePhone = VALUES (ECMobilePhone), \
  ECEmail = VALUES (ECEmail)

UPDATE_PATIENT_LOG_QUERY = INSERT INTO tblPatientLogs \
  (Patient, Time, Level, Message, Action) \
  VALUES (?, ?, ?, ?, ?) \
  ON DUPLICATE KEY UPDATE \
  Time = VALUES (Time)

UPDATE_PATIENT_MEDICATION_QUERY = INSERT INTO tblMedications \
  (Patient, Name, State) \
  VALUES (?, ?, ?) \
  ON DUPLICATE KEY UPDATE \
  Name = VALUES (Name), \
  State = VALUES(State)

SELECT_PATIENT_MEDICATIONS_QUERY = SELECT * FROM tblMedications \
  WHERE Patient = ?

DELETE_PATIENT_MEDICATIONS = DELETE FROM tblMedications \
  WHERE Patient = ?

UPDATE_PATIENT_DISEASES_QUERY = INSERT INTO tblDiseases \
  (Patient, Name, DateDiagnosed, State) \
  VALUES (?, ?, ?, ?) \
  ON DUPLICATE KEY UPDATE \
  State = VALUES (State)

SELECT_PATIENT_DISEASES_QUERY = select * from tblPatients as P JOIN tblDiseases as D ON P.Nhi = D.patient where P.Nhi = ?

DELETE_PATIENT_DISEASES_QUERY = DELETE FROM tblDiseases \
  WHERE Patient = ?

UPDATE_PATIENT_PROCEDURES_QUERY = INSERT INTO tblProcedures \
  (Patient, Summary, Description, ProDate, AffectedOrgans) \
  VALUES (?, ?, ?, ?, ?) \
  ON DUPLICATE KEY UPDATE \
  Description = VALUES (Description), \
  AffectedOrgans = VALUES (AffectedOrgans)

SELECT_PATIENT_PROCEDURES_QUERY = SELECT * FROM tblProcedures \
  WHERE Patient = ?

DELETE_PATIENT_PROCEDURES = DELETE FROM tblProcedures \
  WHERE Patient = ?

UPDATE_ADMIN_QUERY = INSERT INTO tblAdmins \
  (Username, FName, MName, LName, Salt, Password, Modified) \
  VALUES (?, ?, ?, ?, ?, ?, ?) \
  ON DUPLICATE KEY UPDATE \
  FName = VALUES (FName), \
  MName = VALUES (MName), \
  LName = VALUES (LName), \
  Salt = VALUES (Salt), \
  Password = VALUES (Password), \
  Modified = VALUES (Modified)


UPDATE_TRANSPLANT_REQUEST_QUERY = INSERT INTO tblTransplantWaitList \
  VALUES (?, ?, ?, ?) \
  ON DUPLICATE KEY UPDATE \
  Patient = Patient


SELECT_PATIENT_BY_NHI = SELECT * FROM tblPatients WHERE Nhi = (?)


SELECT_PATIENT_CONTACTS = SELECT * FROM tblPatientContact WHERE Patient = (?)

SELECT_PATIENTS_FUZZY_FILTERED = SELECT \
 c.Region, \
levenshtein(b.Nhi, ?) as NhiMatch, \
least(levenshtein(b.FName, ?), levenshtein(b.MName, ?),levenshtein(b.LName, ?)) as NameMatch, \
levenshtein(concat(b.FName, ' ', b.MName, ' ', b.LName), ?) as FullNameMatch, \
b.* \
FROM tblPatients b JOIN tblPatientContact c ON  b.Nhi = c.Patient \
WHERE %FILTER% \
having NhiMatch=0 or nameMatch <= 2 or fullNameMatch <= 2 \
ORDER BY least(NhiMatch, NameMatch, FullNameMatch)

SELECT_PATIENTS_FILTERED = SELECT * FROM tblPatients AS P JOIN tblPatientContact AS C ON P.Nhi = C.Patient WHERE %FILTER%

SELECT_CLINICIAN_STAFF_ID = SELECT * FROM tblClinicians WHERE StaffID = ?

DELETE_CONTACT_BY_NHI = SELECT * FROM tblPatientContact WHERE Patient = ?

DELETE_PATIENT_BY_NHI = DELETE FROM tblPatients WHERE Nhi = ?

INSERT_PATIENT_LOGS = INSERT INTO tblPatientLogs (Patient, Time, Level, Message, Action) VALUES (?, ?, ?, ?, ?)

DELETE_ALL_PATIENT_LOGS = SELECT * FROM tblPatientLogs WHERE Patient = ?

SELECT_PATIENT_LOGS = SELECT * FROM tblPatientLogs WHERE Patient = (?)

DELETE_ALL_ADMIN_LOGS = DELETE FROM tblAdminLogs WHERE Admin = ?

INSERT_ADMINISTRATOR_LOGS = INSERT INTO tblAdminLogs VALUES (?, ?, ?, ?, ?, ?)

SELECT_ADMINISTRATOR_LOGS = SELECT * FROM tblAdminLogs WHERE UserName = ?

INSERT_CLINICIAN_LOGS = INSERT INTO tblClinicianLogs (Clinician, Time, Level, Message, Action, TargetNhi) VALUES (?, ?, ?, ?, ?, ?)

SELECT_CLINICIAN_LOGS = SELECT * FROM tblClinicianLogs WHERE Clinician = ?

DELETE_ALL_CLINICIAN_LOGS = DELETE FROM tblClinicianLogs WHERE Clinician = ?

SELECT_ALL_TRANSPLANT_WAIT = SELECT * FROM tblTransplantWaitList AS T JOIN tblPatients AS P ON  P.nhi = T.patient

UPDATE_TRANSPLANT_WAIT = INSERT INTO tblTransplantWaitList VALUES (?, ?, ?, ?) ON DUPLICATE KEY UPDATE Patient = Patient

DELETE_ALL_TRANSPLANT_WAIT = DELETE FROM tblTransplantWaitList

SELECT_ADMIN_USERNAME = SELECT * FROM tblAdmins WHERE Username = ?